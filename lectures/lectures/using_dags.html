<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Phil Solimine">
  <title>ECON 526 Lectures - ECON526: Quantitative Economics with Data Science Applications</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <style>
  .reveal .custom3070 > div.column:first-child {
    width: 30%;
  }
  .reveal .custom3070 div.column:not(:first-child) {
    width: 70%;
  }
  .reveal .custom4060 > div.column:first-child {
    width: 40%;
  }
  .reveal .custom4060 div.column:not(:first-child) {
    width: 60%;
  }
  .two-col {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
  }
  .col {
    flex-basis: 48%;
  }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">ECON526: Quantitative Economics with Data Science Applications</h1>
  <p class="subtitle">Practical Uses of Directed Graphical Models</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Phil Solimine 
</div>
<div class="quarto-title-author-email">
<a href="mailto:philip.solimine@ubc.ca">philip.solimine@ubc.ca</a>
</div>
        <p class="quarto-title-affiliation">
            University of British Columbia
          </p>
    </div>
</div>

</section><section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">Table of contents</h2>
<ul>
<li><a href="#/overview" id="/toc-overview">Overview</a></li>
<li><a href="#/dependence-flows" id="/toc-dependence-flows">Dependence Flows</a></li>
<li><a href="#/viualizing-bias" id="/toc-viualizing-bias">Viualizing Bias</a></li>
<li><a href="#/confounding" id="/toc-confounding">Confounding</a></li>
<li><a href="#/selection" id="/toc-selection">Selection</a></li>
<li><a href="#/choosing-covariates" id="/toc-choosing-covariates">Choosing Covariates</a></li>
<li><a href="#/factorizing-the-joint-distribution" id="/toc-factorizing-the-joint-distribution">Factorizing the Joint Distribution</a></li>
</ul>
</nav>
</section>
<section>
<section id="overview" class="title-slide slide level1 center">
<h1>Overview</h1>

</section>
<section id="summary" class="slide level2">
<h2>Summary</h2>
<ul>
<li><p>Previously in the course, we introduced Directed Acyclic Graphs as a way to represent conditional independence relationships between variables.</p></li>
<li><p>We built a DAG to represent the causal relationships between variables in a simple model of online learning.</p></li>
<li><p>We used this example to discuss how we can use DAGs to build a causal model of a data generating process.</p>
<ul>
<li>We also discussed some techniques to build concise models without losing too much information.</li>
</ul></li>
<li><p>Today, we will discuss how these DAGs can actually be used in practice, both to identify causal effects, and to reduce the representational complexity of a model.</p></li>
</ul>
</section></section>
<section>
<section id="dependence-flows" class="title-slide slide level1 center">
<h1>Dependence Flows</h1>

</section>
<section id="dependence-flows-1" class="slide level2">
<h2>Dependence Flows</h2>
<ul>
<li><p>In order to determine whether or not we can identify a treatment effect, we need to understand how dependence <strong>flows</strong> through a graphical model.</p></li>
<li><p>We have seen that conditioning on a node can either make or break the dependence relationship between two other nodes</p></li>
<li><p>To identify the treatment effect, we want the <em>link between the treatment and the outcome to be unblocked</em>.</p></li>
<li><p>However, we also need to make sure that there is <em>no other dependence path</em> between the treatment and the outcome that is unblocked.</p></li>
</ul>
</section>
<section id="the-rules-of-bayes-ball" class="slide level2">
<h2>The Rules of Bayes-Ball</h2>
<ul>
<li>We can think about the flow of dependence as a game of “Bayes-ball”</li>
<li>The rules of Bayes-ball are reasonably simple. A dependence path is blocked if and only if:
<ol type="1">
<li>It contains a <em>non-collider</em> that is conditioned on</li>
<li>It contains a <em>collider</em> that is not conditioned on, and neither are <em>any of its descendants</em></li>
</ol></li>
</ul>

<img data-src="./data/fig/graph-flow.png" class="r-stretch"></section>
<section id="directed-graphical-models" class="slide level2">
<h2>Directed Graphical Models</h2>
<p>Turning back to our <strong>collider</strong> example:</p>
<ul>
<li>Notice that when we do not condition on <span class="math inline">\(C\)</span>, <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> are independent.</li>
<li>However, somewhat unintuitively, when we condition on <span class="math inline">\(X\)</span>, <span class="math inline">\(Y\)</span> and <span class="math inline">\(Z\)</span> become dependent.
<ul>
<li>This is because conditioning on <span class="math inline">\(X\)</span> opens the flow of dependence from <span class="math inline">\(Y\)</span> to <span class="math inline">\(Z\)</span>.</li>
<li>In any case that is <em>not</em> a collider, conditioning on a node <em>blocks</em> the flow of dependence.</li>
</ul></li>
</ul>
</section>
<section id="two-games-of-bayes-ball" class="slide level2">
<h2>Two Games of Bayes Ball</h2>

<img data-src="./data/fig/two-games.png" class="r-stretch"></section></section>
<section>
<section id="viualizing-bias" class="title-slide slide level1 center">
<h1>Viualizing Bias</h1>

</section>
<section id="bias-and-causality" class="slide level2">
<h2>Bias and Causality</h2>
<ul>
<li><p>In a causal inference framework, we can use graphical models to determine whether or not we can identify a treatment effect, and which covariates we need to condition on.</p></li>
<li><p>Typically, drawing out a graphical model is not necessary, but it can be a useful exercise to help you think through the problem.</p>
<ul>
<li>The links you draw represent the assumptions you are making about the data generating process</li>
</ul></li>
</ul>
</section>
<section id="bias-and-causality-1" class="slide level2">
<h2>Bias and Causality</h2>
<ul>
<li>There are two major types of bias that we need to worry about in causal inference:
<ul>
<li><strong>Confounding</strong>: When there is an unobserved variable that is a common cause of both the treatment and the outcome</li>
<li><strong>Selection</strong>: When there is an unobserved variable that is a common cause of both the treatment and the selection into the sample</li>
</ul></li>
<li>Both of these types of bias can be represented using a graphical model</li>
</ul>
</section></section>
<section>
<section id="confounding" class="title-slide slide level1 center">
<h1>Confounding</h1>

</section>
<section id="confounding-1" class="slide level2">
<h2>Confounding</h2>
<ul>
<li>Let’s look at an example of confounding:</li>
</ul>
<div class="cell columns column-output-location" data-execution_count="3">
<div class="column">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb1-2"><a href="#cb1-2"></a>g.edge(<span class="st">"X"</span>, <span class="st">"T"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a>g.edge(<span class="st">"X"</span>, <span class="st">"Y"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a>g.edge(<span class="st">"T"</span>, <span class="st">"Y"</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a></span>
<span id="cb1-6"><a href="#cb1-6"></a>g.edge(<span class="st">"rain"</span>, <span class="st">"umbrella"</span>)</span>
<span id="cb1-7"><a href="#cb1-7"></a>g.edge(<span class="st">"rain"</span>, <span class="st">"wet"</span>)</span>
<span id="cb1-8"><a href="#cb1-8"></a>g.edge(<span class="st">"umbrella"</span>, <span class="st">"wet"</span>)</span>
<span id="cb1-9"><a href="#cb1-9"></a></span>
<span id="cb1-10"><a href="#cb1-10"></a>g.edge(<span class="st">"severeness"</span>, <span class="st">"medicine"</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a>g.edge(<span class="st">"severeness"</span>, <span class="st">"survived"</span>)</span>
<span id="cb1-12"><a href="#cb1-12"></a>g.edge(<span class="st">"medicine"</span>, <span class="st">"survived"</span>)</span>
<span id="cb1-13"><a href="#cb1-13"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="2">
<p><img data-src="using_dags_files/figure-revealjs/cell-3-output-1.svg"></p>
</div>
</div>
</div>
<ul>
<li>To control for confounding, we need to condition on all of the common causes of the treatment and the outcome.</li>
</ul>
</section>
<section id="confounding-2" class="slide level2">
<h2>Confounding</h2>
<div class="cell columns column-output-location" data-execution_count="4">
<div class="column">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>g.node(<span class="st">"Family Income"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>g.edge(<span class="st">"Family Income"</span>, <span class="st">"Educ"</span>)</span>
<span id="cb2-5"><a href="#cb2-5"></a>g.edge(<span class="st">"Educ"</span>, <span class="st">"Wage"</span>)</span>
<span id="cb2-6"><a href="#cb2-6"></a></span>
<span id="cb2-7"><a href="#cb2-7"></a>g.node(<span class="st">"SAT"</span>)</span>
<span id="cb2-8"><a href="#cb2-8"></a>g.edge(<span class="st">"SAT"</span>, <span class="st">"Educ"</span>)</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a>g.node(<span class="st">"Family Income"</span>)</span>
<span id="cb2-11"><a href="#cb2-11"></a>g.edge(<span class="st">"Family Income"</span>, <span class="st">"Wage"</span>)</span>
<span id="cb2-12"><a href="#cb2-12"></a></span>
<span id="cb2-13"><a href="#cb2-13"></a>g.edge(<span class="st">"Intelligence"</span>, <span class="st">"SAT"</span>)</span>
<span id="cb2-14"><a href="#cb2-14"></a>g.edge(<span class="st">"Intelligence"</span>, <span class="st">"Wage"</span>)</span>
<span id="cb2-15"><a href="#cb2-15"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="3">
<p><img data-src="using_dags_files/figure-revealjs/cell-4-output-1.svg"></p>
</div>
</div>
</div>
<ul>
<li>Often, there are confounding variables that we cannot observe
<ul>
<li>For example, we cannot observe intelligence, but it is a common cause of both education (the treatment) and wages</li>
</ul></li>
</ul>
</section>
<section id="confounding-3" class="slide level2">
<h2>Confounding</h2>
<div class="cell columns column-output-location" data-execution_count="5">
<div class="column">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>g.node(<span class="st">"Family Income"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a>g.edge(<span class="st">"Family Income"</span>, <span class="st">"Educ"</span>)</span>
<span id="cb3-5"><a href="#cb3-5"></a>g.edge(<span class="st">"Educ"</span>, <span class="st">"Wage"</span>)</span>
<span id="cb3-6"><a href="#cb3-6"></a></span>
<span id="cb3-7"><a href="#cb3-7"></a>g.node(<span class="st">"SAT"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb3-8"><a href="#cb3-8"></a>g.edge(<span class="st">"SAT"</span>, <span class="st">"Educ"</span>)</span>
<span id="cb3-9"><a href="#cb3-9"></a></span>
<span id="cb3-10"><a href="#cb3-10"></a>g.node(<span class="st">"Family Income"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb3-11"><a href="#cb3-11"></a>g.edge(<span class="st">"Family Income"</span>, <span class="st">"Wage"</span>)</span>
<span id="cb3-12"><a href="#cb3-12"></a></span>
<span id="cb3-13"><a href="#cb3-13"></a>g.edge(<span class="st">"Intelligence"</span>, <span class="st">"SAT"</span>)</span>
<span id="cb3-14"><a href="#cb3-14"></a>g.edge(<span class="st">"Intelligence"</span>, <span class="st">"Wage"</span>)</span>
<span id="cb3-15"><a href="#cb3-15"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="4">
<p><img data-src="using_dags_files/figure-revealjs/cell-5-output-1.svg"></p>
</div>
</div>
</div>
<ul>
<li>Often, there are confounding variables that we cannot observe
<ul>
<li>For example, we cannot observe intelligence, but it is a common cause of both education (the treatment) and wages</li>
<li>But we can use SAT as a <strong>surrogate</strong> or <strong>proxy</strong> for intelligence.</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="selection" class="title-slide slide level1 center">
<h1>Selection</h1>

</section>
<section id="selection-1" class="slide level2">
<h2>Selection</h2>
<ul>
<li>Selection bias often occurs when there is an unobserved variable that is a common cause of both the treatment and the selection into the sample, in other words, by conditioning on a variable that you shouldn’t.</li>
</ul>
<div class="cell columns column-output-location" data-execution_count="6">
<div class="column">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb4-2"><a href="#cb4-2"></a>g.node(<span class="st">"X"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb4-3"><a href="#cb4-3"></a>g.edge(<span class="st">"T"</span>, <span class="st">"X"</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>g.edge(<span class="st">"T"</span>, <span class="st">"Y"</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a>g.edge(<span class="st">"Y"</span>, <span class="st">"X"</span>)</span>
<span id="cb4-6"><a href="#cb4-6"></a>g.node(<span class="st">"Investments"</span>, <span class="st">"Investments"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb4-7"><a href="#cb4-7"></a>g.edge(<span class="st">"Educ"</span>, <span class="st">"Investments"</span>)</span>
<span id="cb4-8"><a href="#cb4-8"></a>g.edge(<span class="st">"Educ"</span>, <span class="st">"Wage"</span>)</span>
<span id="cb4-9"><a href="#cb4-9"></a>g.edge(<span class="st">"Wage"</span>, <span class="st">"Investments"</span>)</span>
<span id="cb4-10"><a href="#cb4-10"></a>g.node(<span class="st">"Educ2"</span>, <span class="st">"Educ"</span>)</span>
<span id="cb4-11"><a href="#cb4-11"></a>g.node(<span class="st">"Wage2"</span>, <span class="st">"Wage"</span>)</span>
<span id="cb4-12"><a href="#cb4-12"></a>g.node(<span class="st">"Investments2"</span>, <span class="st">"Investments"</span>)</span>
<span id="cb4-13"><a href="#cb4-13"></a>g.edge(<span class="st">"Educ2"</span>, <span class="st">"Wage2"</span>)</span>
<span id="cb4-14"><a href="#cb4-14"></a>g.edge(<span class="st">"Wage2"</span>, <span class="st">"Investments2"</span>)</span>
<span id="cb4-15"><a href="#cb4-15"></a>g.edge(<span class="st">"Educ2"</span>, <span class="st">"Investments2"</span>)</span>
<span id="cb4-16"><a href="#cb4-16"></a>g.node(<span class="st">"CapitalGainsTax"</span>, <span class="st">"CapitalGainsTax"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb4-17"><a href="#cb4-17"></a>g.edge(<span class="st">"Investments2"</span>, <span class="st">"CapitalGainsTax"</span>)</span>
<span id="cb4-18"><a href="#cb4-18"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="5">
<p><img data-src="using_dags_files/figure-revealjs/cell-6-output-1.svg"></p>
</div>
</div>
</div>
</section>
<section id="selection-2" class="slide level2">
<h2>Selection</h2>
<ul>
<li>Selection bias can also occur when controlling for a <strong>mediator</strong> between the treatment and the outcome</li>
</ul>
<div class="cell columns column-output-location" data-execution_count="7">
<div class="column">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb5-4"><a href="#cb5-4"></a>g.edge(<span class="st">"T"</span>, <span class="st">"X"</span>)</span>
<span id="cb5-5"><a href="#cb5-5"></a>g.edge(<span class="st">"T"</span>, <span class="st">"Y"</span>)</span>
<span id="cb5-6"><a href="#cb5-6"></a>g.edge(<span class="st">"X"</span>, <span class="st">"Y"</span>)</span>
<span id="cb5-7"><a href="#cb5-7"></a>g.node(<span class="st">"X"</span>, <span class="st">"X"</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a>g.edge(<span class="st">'Educ'</span>, <span class="st">'WhiteCollar'</span>)</span>
<span id="cb5-10"><a href="#cb5-10"></a>g.edge(<span class="st">'Educ'</span>, <span class="st">'Wage'</span>)</span>
<span id="cb5-11"><a href="#cb5-11"></a>g.edge(<span class="st">'WhiteCollar'</span>, <span class="st">'Wage'</span>)</span>
<span id="cb5-12"><a href="#cb5-12"></a>g.node(<span class="st">'WhiteCollar'</span>, style<span class="op">=</span><span class="st">"filled"</span>)</span>
<span id="cb5-13"><a href="#cb5-13"></a></span>
<span id="cb5-14"><a href="#cb5-14"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="6">
<p><img data-src="using_dags_files/figure-revealjs/cell-7-output-1.svg"></p>
</div>
</div>
</div>
</section></section>
<section>
<section id="choosing-covariates" class="title-slide slide level1 center">
<h1>Choosing Covariates</h1>

</section>
<section id="choosing-covariates-1" class="slide level2">
<h2>Choosing Covariates</h2>
<ul>
<li><p>With these types of bias in mind, we can think about how to choose which covariates to condition on.</p></li>
<li><p>Notice that some controls will reduce bias, as in the case of confounding,</p></li>
<li><p>But <em>not all controls are good!</em> Some controls will actually create bias, as in the case of selection.</p></li>
<li><p>This means that we don’t want to just “throw the kitchen sink” at the problem, and include every variable we can think of.</p></li>
</ul>
</section>
<section id="choosing-covariates-2" class="slide level2">
<h2>Choosing Covariates</h2>
<ul>
<li><p>We want to choose covariates that will close any unblocked secondary dependence paths between the treatment and the outcome, but not open any new ones.</p></li>
<li><p>To do this, we can use the “front door criterion” and the “back door criterion”</p></li>
</ul>
</section>
<section id="the-front-door-criterion" class="slide level2">
<h2>The Front Door Criterion</h2>
<ul>
<li>The <strong>front door criterion</strong> is one way to isolate the effect of a treatment on an outcome, when there is a confounder and a mediator between the treatment and the outcome.</li>
</ul>
<div class="cell columns column-output-location" data-execution_count="8">
<div class="column">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb6-2"><a href="#cb6-2"></a>g.edge(<span class="st">"LotsOfStuff"</span>, <span class="st">"Smoking"</span>)</span>
<span id="cb6-3"><a href="#cb6-3"></a>g.edge(<span class="st">"LotsOfStuff"</span>, <span class="st">"LungCancer"</span>)</span>
<span id="cb6-4"><a href="#cb6-4"></a>g.edge(<span class="st">"Smoking"</span>, <span class="st">"Tar"</span>, style<span class="op">=</span><span class="st">"dashed"</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a>g.edge(<span class="st">"Tar"</span>, <span class="st">"LungCancer"</span>, style<span class="op">=</span><span class="st">"dashed"</span>)</span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="7">
<p><img data-src="using_dags_files/figure-revealjs/cell-8-output-1.svg"></p>
</div>
</div>
</div>
</section>
<section id="the-front-door-criterion-1" class="slide level2">
<h2>The Front Door Criterion</h2>
<div class="two-col">
<div class="col">
<div class="cell columns column-output-location" data-execution_count="9">
<div class="column">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb7-2"><a href="#cb7-2"></a>g.edge(<span class="st">"LotsOfStuff"</span>, <span class="st">"Smoking"</span>)</span>
<span id="cb7-3"><a href="#cb7-3"></a>g.edge(<span class="st">"LotsOfStuff"</span>, <span class="st">"LungCancer"</span>)</span>
<span id="cb7-4"><a href="#cb7-4"></a>g.edge(<span class="st">"Smoking"</span>, <span class="st">"Tar"</span>, style<span class="op">=</span><span class="st">"dashed"</span>)</span>
<span id="cb7-5"><a href="#cb7-5"></a>g.edge(<span class="st">"Tar"</span>, <span class="st">"LungCancer"</span>, style<span class="op">=</span><span class="st">"dashed"</span>)</span>
<span id="cb7-6"><a href="#cb7-6"></a></span>
<span id="cb7-7"><a href="#cb7-7"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="8">
<p><img data-src="using_dags_files/figure-revealjs/cell-9-output-1.svg"></p>
</div>
</div>
</div>
</div>
<div class="col">
<ul>
<li><p>In this example, we want to know the effect of smoking on lung cancer, but we also know that there are lots of variables (like stress), that cause both the treatment and the outcome.</p></li>
<li><p>However, stress does not cause tar, so we can condition on tar.</p>
<ul>
<li>This works by first measuring the effect of tar on lung cancer, and <em>then</em> the effect of smoking on tar.</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="the-back-door-criterion" class="slide level2">
<h2>The Back Door Criterion</h2>
<ul>
<li><p>It’s pretty rare that we’ll actually be able to use the front door criterion, because we usually don’t have a mediator that we can condition on.</p></li>
<li><p>Instead, we can close all of the “back door paths” from treatment to outcome. We have already seen an example of this.</p></li>
</ul>

<img data-src="using_dags_files/figure-revealjs/cell-10-output-1.svg" class="r-stretch"></section>
<section id="choosing-covariates-two-examples" class="slide level2">
<h2>Choosing Covariates: Two Examples</h2>
<div class="cell columns column-output-location" data-execution_count="11">
<div class="column">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb8-2"><a href="#cb8-2"></a>g.edge(<span class="st">"T"</span>, <span class="st">"Y"</span>, style<span class="op">=</span><span class="st">"dashed"</span>)</span>
<span id="cb8-3"><a href="#cb8-3"></a>g.edge(<span class="st">"X"</span>, <span class="st">"Y"</span>)</span>
<span id="cb8-4"><a href="#cb8-4"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="10">
<p><img data-src="using_dags_files/figure-revealjs/cell-11-output-1.svg"></p>
</div>
</div>
</div>
<ul>
<li>Do we need to condition on <span class="math inline">\(X\)</span>?</li>
</ul>
</section>
<section id="choosing-covariates-two-examples-1" class="slide level2">
<h2>Choosing Covariates: Two Examples</h2>
<div class="cell columns column-output-location" data-execution_count="12">
<div class="column">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb9-2"><a href="#cb9-2"></a>g.edge(<span class="st">"T"</span>, <span class="st">"Y"</span>, style<span class="op">=</span><span class="st">"dashed"</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a>g.edge(<span class="st">"X"</span>, <span class="st">"Y"</span>)</span>
<span id="cb9-4"><a href="#cb9-4"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="11">
<p><img data-src="using_dags_files/figure-revealjs/cell-12-output-1.svg"></p>
</div>
</div>
</div>
<ul>
<li>Do we need to condition on <span class="math inline">\(X\)</span>?
<ul>
<li>No, not necessarily. There is no unblocked dependence path between <span class="math inline">\(T\)</span> and <span class="math inline">\(Y\)</span> that goes through <span class="math inline">\(X\)</span>.</li>
<li>However, conditioning on <span class="math inline">\(X\)</span> will reduce the variance of our estimate!</li>
<li>If we didn’t condition on <span class="math inline">\(X\)</span>, it would become part of our estimation error. But since <span class="math inline">\(X \perp T\)</span>, it won’t bias our estimate.</li>
</ul></li>
</ul>
</section>
<section id="choosing-covariates-two-examples-2" class="slide level2">
<h2>Choosing Covariates: Two Examples</h2>
<div class="cell columns column-output-location" data-execution_count="13">
<div class="column">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>g <span class="op">=</span> gr.Digraph()</span>
<span id="cb10-2"><a href="#cb10-2"></a>g.edge(<span class="st">"R"</span>, <span class="st">"T"</span>)</span>
<span id="cb10-3"><a href="#cb10-3"></a>g.edge(<span class="st">"C"</span>, <span class="st">"T"</span>)</span>
<span id="cb10-4"><a href="#cb10-4"></a>g.edge(<span class="st">"C"</span>, <span class="st">"Y"</span>)</span>
<span id="cb10-5"><a href="#cb10-5"></a>g.edge(<span class="st">"T"</span>, <span class="st">"Y"</span>, style<span class="op">=</span><span class="st">"dashed"</span>)</span>
<span id="cb10-6"><a href="#cb10-6"></a>g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-display" data-execution_count="12">
<p><img data-src="using_dags_files/figure-revealjs/cell-13-output-1.svg"></p>
</div>
</div>
</div>
<ul>
<li>Suppose we don’t have any data on <span class="math inline">\(C\)</span>. Can we identify the treatment effect?
<ul>
<li>Yes! If we look at the effect of <span class="math inline">\(R\)</span> on <span class="math inline">\(Y\)</span>, we can see that it is unblocked.</li>
<li>Furthermore, since <span class="math inline">\(R\)</span> only affects <span class="math inline">\(Y\)</span> through <span class="math inline">\(T\)</span>, the effect of <span class="math inline">\(R\)</span> on <span class="math inline">\(Y\)</span> is the same as the effect of <span class="math inline">\(T\)</span> on <span class="math inline">\(Y\)</span>.</li>
<li>This is called an <strong>instrumental variable</strong>.</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="factorizing-the-joint-distribution" class="title-slide slide level1 center">
<h1>Factorizing the Joint Distribution</h1>

</section>
<section id="factorizing-the-joint-distribution-1" class="slide level2">
<h2>Factorizing the Joint Distribution</h2>
<ul>
<li><p>We have seen how these graphical models can be used to determine whether or not we can identify a treatment effect.</p></li>
<li><p>However, we can also use them as a computational tool, to help us find the simplest representation of the joint distribution of the data.</p></li>
<li><p>This is useful because it allows us to find the simplest model that is consistent with our assumptions about conditional independence.</p></li>
</ul>
</section>
<section id="factorizing-the-joint-distribution-2" class="slide level2">
<h2>Factorizing the Joint Distribution</h2>
<ul>
<li><p>To understand why this is useful, we’ll follow this example (from <a href="http://ai.stanford.edu/~paskin/gm-short-course/lec2.pdf">Mark Paskin</a>).</p></li>
<li><p>Suppose we have a DGP with five variables:</p>
<ol type="1">
<li><span class="math inline">\(E\in\{true, false\}\)</span> - Has an earthquake happened? <em>Earthquakes are unlikely</em></li>
<li><span class="math inline">\(B\in\{true, false\}\)</span> - Has a burglary happened? <em>Burglaries are unlikely, but more likely than earthquakes</em></li>
<li><span class="math inline">\(A\in\{true, false\}\)</span> - Is the alarm going off? <em>The alarm is triggered by both earthquakes and burglaries</em></li>
<li><span class="math inline">\(J\in\{true, false\}\)</span> - Is John calling? <em>John calls when he hears the alarm, but he often misses it</em></li>
<li><span class="math inline">\(M\in\{true, false\}\)</span> - Is Mary calling? <em>Mary calls when she hears the alarm, but she also calls to chat</em></li>
</ol></li>
</ul>
</section>
<section id="factorizing-the-joint-distribution-3" class="slide level2">
<h2>Factorizing the Joint Distribution</h2>
<ul>
<li>The goal is to compute <span class="math inline">\(P(B|J=true)\)</span> from the joint distribution <span class="math inline">\(P(E,B,A,J,M)\)</span>. We’ll start by drawing the graphical model, to understand the conditional independence relationships.</li>
</ul>

<img data-src="using_dags_files/figure-revealjs/cell-14-output-1.svg" class="r-stretch"></section>
<section id="factorizing-the-joint-distribution-4" class="slide level2">
<h2>Factorizing the Joint Distribution</h2>

<img data-src="using_dags_files/figure-revealjs/cell-15-output-1.svg" class="r-stretch"><ul>
<li>In order to represent the full joint distribution, we could use the chain rule of probabilities:</li>
</ul>
<p><span class="math display">\[
P(E,B,A,J,M) = P(E)P(B|E)P(A|E,B)P(J|E,B,A)P(M|E,B,A,J)
\]</span></p>
<ul>
<li>Q: How many probabilities would we need to compute to represent the joint distribution this way?</li>
</ul>
</section>
<section id="factorizing-the-joint-distribution-5" class="slide level2">
<h2>Factorizing the Joint Distribution</h2>

<img data-src="using_dags_files/figure-revealjs/cell-16-output-1.svg" class="r-stretch"><ul>
<li>In order to represent the full joint distribution, we could use the chain rule of probabilities:</li>
</ul>
<p><span class="math display">\[
\underbrace{P(E,B,A,J,M)}_{31} = \underbrace{P(E)}_{1} \underbrace{P(B|E)}_{2} \underbrace{P(A|E,B)}_{4} \underbrace{P(J|E,B,A)}_{8} \underbrace{P(M|E,B,A,J)}_{16}
\]</span></p>
<ul>
<li>Q: How many probabilities would we need to store to represent the joint distribution this way?
<ul>
<li>A: There are <span class="math inline">\(2^5\)</span> possible outcomes. We need 31 probabilities. (why not 32?)</li>
</ul></li>
</ul>
</section>
<section id="factorizing-the-joint-distribution-6" class="slide level2">
<h2>Factorizing the Joint Distribution</h2>

<img data-src="using_dags_files/figure-revealjs/cell-17-output-1.svg" class="r-stretch"><ul>
<li>However, we can use the conditional independence relationships to simplify this representation.
<ul>
<li>For example, we know that <span class="math inline">\(P(B|E) = P(B)\)</span>, because <span class="math inline">\(B\)</span> and <span class="math inline">\(E\)</span> are independent.</li>
<li>We also know that <span class="math inline">\(P(A|E,B) = P(A|B)\)</span>, because <span class="math inline">\(A\)</span> is independent of <span class="math inline">\(E\)</span>, given <span class="math inline">\(B\)</span>.</li>
</ul></li>
<li>This means that we can simplify the joint distribution to:</li>
</ul>
<p><span class="math display">\[
\underbrace{P(E,B,A,J,M)}_{10} = \underbrace{P(E)}_1 \underbrace{P(B)}_1 \underbrace{P(A|E,B)}_4 \underbrace{P(J|A)}_2 \underbrace{P(M|A)}_2
\]</span></p>
</section>
<section id="factorizing-the-joint-distribution-7" class="slide level2">
<h2>Factorizing the Joint Distribution</h2>
<ul>
<li><p>Beyond causal inference, graphical models are a useful tool for computing all kinds of conditional probabilities.</p></li>
<li><p>This is useful in many inference problems, and in structural econometrics</p>
<ul>
<li>The <strong>likelihood function</strong> is the conditional probability of the data, given the parameter values</li>
<li>In Bayesian inference the <strong>posterior</strong> is the conditional probability of the parameters, given the data (and our priors)</li>
</ul></li>
</ul>
</section>
<section id="variable-elimination" class="slide level2">
<h2>Variable Elimination</h2>
<ul>
<li><p>In order to simplify a conditional distribution, we can use <strong>variable elimination</strong>.</p></li>
<li><p>For example, let’s say we want to compute the probability of a burglary, given that John calls.</p></li>
</ul>
<p><span class="math display">\[
\begin{aligned}
&amp;p_{B \mid J}(b, \text { true })  \propto \sum_e \sum_a \sum_m p_{E B A J M}(e, b, a, \text { true }, m) \\
&amp; =\sum_e \sum_a \sum_m p_E(e) \cdot p_B(b) \cdot p_{A \mid E B}(a, e, b) \cdot p_{J \mid A}(\text { true }, a) \cdot p_{M \mid A}(m, a)
\end{aligned}
\]</span></p>
<ul>
<li>Then, we can reduce the computational complexity by eliminating variables one at a time, exploiting the distributive property of multiplication
<ul>
<li><span class="math inline">\(xy + xz = x(y + z)\)</span>.</li>
</ul></li>
</ul>
</section>
<section id="variable-elimination-1" class="slide level2">
<h2>Variable Elimination</h2>
<ul>
<li>Variable elimination works like this:
<ul>
<li>Repeat the following steps:</li>
</ul>
<ol type="1">
<li>choose a variable to eliminate</li>
<li>push in its sum as far as possible</li>
<li>compute the sum, resulting in a new factor</li>
</ol></li>
</ul>
</section>
<section id="variable-elimination-2" class="slide level2">
<h2>Variable Elimination</h2>
<p><span class="math display">\[
\begin{aligned}
&amp;\sum_e \sum_a \sum_m p_E(e) \cdot p_B(b) \cdot p_{A \mid E B}(a, e, b) \cdot p_{J \mid A}(\text { true }, a) \cdot p_{M \mid A}(m, a) \\
&amp; =\sum_e \sum_a p_E(e) \cdot p_B(b) \cdot p_{A \mid E B}(a, e, b) \cdot p_{J \mid A}(\text { true }, a) \cdot \sum_m p_{M \mid A}(m, a) \\
&amp; =\sum_e \sum_a p_E(e) \cdot p_B(b) \cdot p_{A \mid E B}(a, e, b) \cdot p_{J \mid A}(\text { true }, a) \cdot \psi_A(a) \\
&amp; =\sum_e p_E(e) \cdot p_B(b) \cdot \sum_a p_{A \mid E B}(a, e, b) \cdot p_{J \mid A}(\text { true }, a) \cdot \psi_A(a) \\
&amp; =\sum_e p_E(e) \cdot p_B(b) \cdot \psi_{E B}(e, b) \\
&amp; =p_B(b) \cdot \sum_e p_E(e) \cdot \psi_{E B}(e, b) \\
&amp; =p_B(b) \cdot \psi_B(b)
\end{aligned}
\]</span></p>
</section>
<section id="variable-elimination-3" class="slide level2">
<h2>Variable Elimination</h2>
<ul>
<li>That’s a lot of math! But let’s focus on the first step: <span class="math display">\[
\begin{aligned}
&amp; p_{B \mid J}(b, \text { true }) \propto \\
&amp;\underbrace{\underbrace{\sum_e \sum_a \sum_m}_{2^3 = 8\text{ iterations}} \underbrace{p_E(e) \cdot p_B(b) \cdot p_{A \mid E B}(a, e, b) \cdot p_{J \mid A}(\text { true }, a) \cdot p_{M \mid A}(m, a)}_{4\text{ multiplications}}}_{8*4=32\text{ multiplications }+7\text{ additions}=39\text{ total operations}}
\end{aligned}
\]</span></li>
</ul>
</section>
<section id="variable-elimination-4" class="slide level2">
<h2>Variable Elimination</h2>
<ul>
<li>That’s a lot of math! But let’s focus on the first step: <span class="math display">\[
\begin{aligned}
&amp; p_{B \mid J}(b, \text { true }) \propto \\
&amp;\underbrace{\underbrace{\sum_e \sum_a \sum_m}_{2^3 = 8\text{ iterations}} \underbrace{p_E(e) \cdot p_B(b) \cdot p_{A \mid E B}(a, e, b) \cdot p_{J \mid A}(\text { true }, a) \cdot p_{M \mid A}(m, a)}_{4\text{ multiplications}}}_{8*4=32\text{ multiplications }+7\text{ additions}=39\text{ total operations}} \\\\
&amp; =\underbrace{\underbrace{\sum_e \sum_a}_{2^2 = 4\text{ iterations}} \underbrace{p_E(e) \cdot p_B(b) \cdot p_{A \mid E B}(a, e, b) \cdot p_{J \mid A}(\text { true }, a) \cdot }_{4\text{ multiplications}} \underbrace{\sum_m p_{M \mid A}(m, a)}_{1\text{ addition}}}_{4*(4\text{ multiplications} + 1\text{ addition}) + 3\text{ additions} = 23\text{ total operations}} \\
\end{aligned}
\]</span></li>
</ul>
</section>
<section id="variable-elimination-5" class="slide level2">
<h2>Variable Elimination</h2>
<ul>
<li><p>Variable elimination is an algorithm that exploits our conditional independence assumptions to reduce the computational complexity of conditional probabilities.</p></li>
<li><p>In this case, we were able to reduce the number of operations from 39 to 23 operations in just one step, each further step will continue to reduce the complexity.</p></li>
<li><p>This is a very simple example, because we only have 5 variables. In practice, we might have hundreds or thousands of variables, and the computational complexity can become very large.</p></li>
<li><p>Systematic patterns of conditional independence can be exploited to reduce the complexity of inference problems in some large models.</p></li>
</ul>
</section>
<section id="credits" class="slide level2">
<h2>Credits</h2>
<p>This lecture draws heavily from <a href="https://matheusfacure.github.io/python-causality-handbook/03-Stats-Review-The-Most-Dangerous-Equation.html.html">Causal Inference for the Brave and True: Chapter 04 - Graphical Causal Models</a> by Matheus Facure.</p>
<p>There is also material from <a href="http://ai.stanford.edu/~paskin/gm-short-course/">A Short Course on Graphical Models Chapter 2: Structured Representations</a> by Mark Paskin.</p>
<p>As well as <a href="https://theeffectbook.net/">The Effect: Chapter 7 - Drawing Graphical Diagrams</a> by Nick Huntington-Klein.</p>

<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: false,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1280,

        height: 720,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>